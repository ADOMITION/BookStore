{"ast":null,"code":"export default {\n  data() {\n    return {\n      searchParams: {},\n      tableData: [],\n      pagination: {\n        current: 1,\n        size: 10,\n        total: 0\n      }\n    };\n  },\n  methods: {\n    async loadRecords() {\n      const params = {\n        pageNum: this.pagination.current,\n        pageSize: this.pagination.size,\n        param: this.searchParams\n      };\n      const {\n        data\n      } = await this.$axios.post(this.$httpUrl + '/record/listPage', params);\n      if (data.code === 200) {\n        this.tableData = data.data;\n        this.pagination.total = data.total;\n      }\n    },\n    // 分页处理\n    handleSizeChange(size) {\n      this.pagination.size = size;\n      this.loadRecords();\n    },\n    handleCurrentChange(current) {\n      this.pagination.current = current;\n      this.loadRecords();\n    }\n  },\n  created() {\n    this.loadRecords();\n  }\n};","map":{"version":3,"names":["data","searchParams","tableData","pagination","current","size","total","methods","loadRecords","params","pageNum","pageSize","param","$axios","post","$httpUrl","code","handleSizeChange","handleCurrentChange","created"],"sources":["src/admin/RecordManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-input v-model=\"searchParams.bookName\" placeholder=\"书名\" style=\"width: 200px\"/>\r\n      <el-select v-model=\"searchParams.type\" placeholder=\"类型\" clearable>\r\n        <el-option label=\"出库\" :value=\"0\"/>\r\n        <el-option label=\"入库\" :value=\"1\"/>\r\n      </el-select>\r\n      <el-button type=\"primary\" @click=\"loadRecords\">查询</el-button>\r\n    </div>\r\n\r\n    <el-table :data=\"tableData\" border>\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"/>\r\n      <el-table-column prop=\"bookName\" label=\"书名\"/>\r\n      <el-table-column prop=\"userName\" label=\"操作人\"/>\r\n      <el-table-column label=\"类型\" width=\"100\">\r\n        <template slot-scope=\"{row}\">\r\n          <el-tag :type=\"row.type ? 'success' : 'warning'\">\r\n            {{ row.type ? '入库' : '出库' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"quantity\" label=\"数量\"/>\r\n      <el-table-column prop=\"createTime\" label=\"时间\" width=\"180\"/>\r\n      <el-table-column prop=\"remark\" label=\"备注\"/>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n        :current-page=\"pagination.current\"\r\n        :page-size=\"pagination.size\"\r\n        :total=\"pagination.total\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchParams: {},\r\n      tableData: [],\r\n      pagination: {\r\n        current: 1,\r\n        size: 10,\r\n        total: 0\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async loadRecords() {\r\n      const params = {\r\n        pageNum: this.pagination.current,\r\n        pageSize: this.pagination.size,\r\n        param: this.searchParams\r\n      }\r\n      const { data } = await this.$axios.post(this.$httpUrl+'/record/listPage', params)\r\n      if (data.code === 200) {\r\n        this.tableData = data.data\r\n        this.pagination.total = data.total\r\n      }\r\n    },\r\n    // 分页处理\r\n    handleSizeChange(size) {\r\n      this.pagination.size = size\r\n      this.loadRecords()\r\n    },\r\n    handleCurrentChange(current) {\r\n      this.pagination.current = current\r\n      this.loadRecords()\r\n    },\r\n  },\r\n  created() {\r\n    this.loadRecords()\r\n  },\r\n}\r\n</script>"],"mappings":"AAsCA;EACAA,KAAA;IACA;MACAC,YAAA;MACAC,SAAA;MACAC,UAAA;QACAC,OAAA;QACAC,IAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,YAAA;MACA,MAAAC,MAAA;QACAC,OAAA,OAAAP,UAAA,CAAAC,OAAA;QACAO,QAAA,OAAAR,UAAA,CAAAE,IAAA;QACAO,KAAA,OAAAX;MACA;MACA;QAAAD;MAAA,eAAAa,MAAA,CAAAC,IAAA,MAAAC,QAAA,uBAAAN,MAAA;MACA,IAAAT,IAAA,CAAAgB,IAAA;QACA,KAAAd,SAAA,GAAAF,IAAA,CAAAA,IAAA;QACA,KAAAG,UAAA,CAAAG,KAAA,GAAAN,IAAA,CAAAM,KAAA;MACA;IACA;IACA;IACAW,iBAAAZ,IAAA;MACA,KAAAF,UAAA,CAAAE,IAAA,GAAAA,IAAA;MACA,KAAAG,WAAA;IACA;IACAU,oBAAAd,OAAA;MACA,KAAAD,UAAA,CAAAC,OAAA,GAAAA,OAAA;MACA,KAAAI,WAAA;IACA;EACA;EACAW,QAAA;IACA,KAAAX,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}